(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{413:function(t,s,e){"use strict";e.r(s);var a=e(56),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"controleur-et-routing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#controleur-et-routing"}},[t._v("#")]),t._v(" Contrôleur et Routing")]),t._v(" "),e("h2",{attrs:{id:"requete-et-reponse"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requete-et-reponse"}},[t._v("#")]),t._v(" Requête et réponse")]),t._v(" "),e("p",[t._v("Le but des frameworks "),e("strong",[t._v("HTTP")]),t._v(" comme Symfony est de transformer une requête en réponse. Le composant "),e("strong",[t._v("HttpFoundation")]),t._v(" est le composant le plus bas niveau de Symfony. Son but est notamment d'ajouter une couche orientée objet pour gérer la requête, qui en PHP, est contenu dans des variables globales ($_POST, $_GET, $_FILES, $_SESSION, $_COOKIE, $_SERVER, ...). On y retrouve donc les objets :")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Symfony\\Component\\HttpFoundation\\Request")])]),t._v(" "),e("li",[e("strong",[t._v("Symfony\\Component\\HttpFoundation\\Response")])])]),t._v(" "),e("p",[t._v("La requête est créée dans notre Front Controller à partir de ces variables globales à la ligne 24 :")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$kernel")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Kernel")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_SERVER")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'APP_ENV'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword type-casting"}},[t._v("bool")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_SERVER")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'APP_DEBUG'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Request")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createFromGlobals")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$kernel")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$kernel")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("terminate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$response")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("On peut également noter à la ligne suivante qu'elle est passée en argument de la fonction "),e("strong",[t._v("handle")]),t._v(" de notre Kernel (le noyau de notre application) pour générer la réponse.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("Depuis l'arrivé du composant Runtime avec la version 5.2, le contenu du front controller n'est plus celui présenté au dessus. La logique reste cependant la même.")])]),t._v(" "),e("p",[t._v("Le routing rentre alors en jeu.")]),t._v(" "),e("h2",{attrs:{id:"routing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#routing"}},[t._v("#")]),t._v(" Routing")]),t._v(" "),e("p",[t._v("Le rôle du routeur est, à partir d'une URL, de déterminer quel contrôleur appeler et avec quels arguments. Cela permet de configurer son application pour avoir de belles URL. Il s'agit là d'un point important pour le référencement et même pour le confort des visiteurs.")]),t._v(" "),e("blockquote",[e("p",[t._v("Exemple :")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Non réécrite")]),t._v(" : /index.php?controleur=produit&id=2&name=pantalon-jean-homme")]),t._v(" "),e("li",[e("strong",[t._v("Réécrite")]),t._v(" : /produit/2/pantalon-jean-homme")])])]),t._v(" "),e("h3",{attrs:{id:"fonctionnement"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fonctionnement"}},[t._v("#")]),t._v(" Fonctionnement")]),t._v(" "),e("p",[t._v("Le but du routeur est, à partir d'une URL, de trouver la route correspondante et de retourner les paramètres de sortie que définit cette route, dont le contrôleur. Pour trouver la bonne route, le routeur va les parcourir une par une, dans l'ordre du fichier, et s'arrêter à la première route qui fonctionne.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("L'ordre de définition des routes est donc important, car la premiere route qui correspond est exécutée.")])]),t._v(" "),e("p",[t._v("Le routing est divisé en plusieurs fichiers et dossiers appelés dans l'ordre suivant :")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("/config/routes/")]),t._v(" : Le dossier qui contiendra les routes des différents packages installés.")]),t._v(" "),e("li",[e("strong",[t._v("/config/routes.yaml")]),t._v(" : Un fichier pour définir vos routes au format YAML (nous ne l'utiliserons pas).")])]),t._v(" "),e("p",[t._v("Regardons le contenu de notre fichier "),e("strong",[t._v("/config/routes.yaml")]),t._v(" :")]),t._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("controllers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("resource")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ../../src/Controller/\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" attribute\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("Cette configuration active les "),e("strong",[t._v("attributes")]),t._v(" comme moyen de routing pour tous nos contrôleurs ! Les "),e("strong",[t._v("attributes")]),t._v(" de routing sont situées dans le code même des contrôleurs. Comme nous allons utiliser uniquement ce format, nous n'avons pas besoin de configurer quoi que ce soit.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("Le format recommandé dans Symfony pour gérer les routes dans votre application est le format "),e("strong",[t._v("attributes")]),t._v(" mais il est également possible d'utiliser YAML, XML ou PHP.")])]),t._v(" "),e("h3",{attrs:{id:"configuration-d-une-route"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-d-une-route"}},[t._v("#")]),t._v(" Configuration d'une route")]),t._v(" "),e("p",[t._v("Voici les paramètres les plus importants pour la configuration de route :")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Nom du paramètre")]),t._v(" "),e("th",[t._v("Contenu")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Requis")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("path")]),t._v(" "),e("td",[t._v("Le chemin")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),e("tr",[e("td",[t._v("name")]),t._v(" "),e("td",[t._v("Le nom")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),e("tr",[e("td",[t._v("requirements")]),t._v(" "),e("td",[t._v("Définit la forme des paramètres")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("defaults")]),t._v(" "),e("td",[t._v("Définit les valeurs par défaut des paramètres")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("array")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("methods")]),t._v(" "),e("td",[t._v("Définit les méthodes HTTP que la route doit gérer")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("array|string")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-")])])])]),t._v(" "),e("h3",{attrs:{id:"les-parametres-d-une-route"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#les-parametres-d-une-route"}},[t._v("#")]),t._v(" Les paramètres d'une route")]),t._v(" "),e("p",[t._v("Certaines routes peuvent nécessiter la prise en compte de paramètres, par exemple lorsque vous voudrez afficher la fiche d'un produit sur votre site vitrine, il vous faudra passer en paramètre l'identifiant du produit.")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attribute"}},[e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),e("span",{pre:!0,attrs:{class:"token attribute-content"}},[e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/store/products/{id}'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'store_show_product'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("requirements")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'\\d+'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("methods")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'GET'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("showProduct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Response")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("Grâce au paramètre "),e("strong",[t._v("{id}")]),t._v(" dans notre route, toutes les URLs du type "),e("strong",[t._v("/store/products/{id}")]),t._v(" seront\ngérées par cette route, par exemple : "),e("strong",[t._v("/store/products/3")])]),t._v(" "),e("p",[t._v("La paramètre "),e("strong",[t._v("{id}")]),t._v(" est "),e("strong",[t._v("obligatoire")]),t._v(" et devra "),e("strong",[t._v("impérativement correspondre à un entier positifs")]),t._v(", c'est la propriété indiquée dans requirements qui l'impose. Sans cette dernière, vous pourriez passer ce que vous voulez en paramètre, même une chaîne de type texte.")]),t._v(" "),e("p",[t._v("Bien entendu, vous pouvez tout à fait multiplier les paramètres.")]),t._v(" "),e("h3",{attrs:{id:"debug-des-routes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debug-des-routes"}},[t._v("#")]),t._v(" Debug des routes")]),t._v(" "),e("p",[t._v("Afin de vous aider à vous y retrouver un peu plus facilement dans votre routage, vous pouvez utiliser la barre de debug de Symfony. Si votre application est en environnement de développement, vous avez la possibilité d'accéder au détail de la route empruntée en passant la souris sur le nom de la route.")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/routing-debug.png",alt:"Routing debug bar"}})]),t._v(" "),e("p",[t._v("Vous pouvez également cliquer sur cet élément pour entrer dans le "),e("strong",[t._v("profiler")]),t._v(" et obtenir plus d'informations.")]),t._v(" "),e("p",[t._v("Pour lister toutes les routes de votre application, vous avez également à disposition une commande :")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("php bin/console debug:router\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"controleur"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#controleur"}},[t._v("#")]),t._v(" Contrôleur")]),t._v(" "),e("p",[t._v("L'objectif du contrôleur est très simple, il exécute une action qui doit retourner une instance de "),e("strong",[t._v("Response")]),t._v(". Voici un exemple de contrôleur fictif :")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controller")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Symfony"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("FrameworkBundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controller"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AbstractController")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Symfony"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("HttpFoundation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Response")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Symfony"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Routing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Annotation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("StoreController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractController")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attribute"}},[e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),e("span",{pre:!0,attrs:{class:"token attribute-content"}},[e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/store/product'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'store_list_product'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("listProduct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Response")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'product/list.html.twig'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token attribute"}},[e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),e("span",{pre:!0,attrs:{class:"token attribute-content"}},[e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/store/products/{id}'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'store_show_product'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("requirements")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'\\d+'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("showProduct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Response")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Response")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[t._v("\"Produit d'id "),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")])]),t._v('"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br")])]),e("p",[t._v("Deux "),e("strong",[t._v("actions")]),t._v(" sont présentes dans ce contrôleur, la première correspond à l'affichage de la liste de produits et la deuxième correspond à l'affichage d'une fiche produit en prenant en charge un paramètre "),e("em",[t._v("id")]),t._v(".")]),t._v(" "),e("p",[t._v("Un contrôleur est donc composé d'"),e("strong",[t._v("actions")]),t._v(", il s'agit des méthodes ciblées par le routing et effectuant les traitements nécessaires à l'affichage de notre page.")]),t._v(" "),e("p",[t._v("Une action renvoie toujours une instance de Response :")]),t._v(" "),e("ul",[e("li",[t._v("Dans l'action "),e("strong",[t._v("listProduct")]),t._v(", on se sert de la méthode "),e("strong",[t._v("render")]),t._v(" fournit par l'AbstractController que notre classe étend. Cette fonction renvoie une Response avec comme contenu un template Twig traité.")]),t._v(" "),e("li",[t._v("Dans l'action "),e("strong",[t._v("showProduct")]),t._v(", on instancie nous même un objet Response avec son contenu.")])]),t._v(" "),e("h3",{attrs:{id:"generer-des-urls"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#generer-des-urls"}},[t._v("#")]),t._v(" Générer des URLs")]),t._v(" "),e("p",[t._v("Nous pouvons générer des URLs à partir du nom des routes directement depuis notre contrôleur. En effet, vu que le routeur a toutes les routes à sa disposition, il est capable d'associer une route à une certaine URL, mais également de reconstruire l'URL correspondant à une certaine route.")]),t._v(" "),e("p",[t._v("Par exemple, nous avons une route nommée "),e("strong",[t._v("store_products")]),t._v(" qui écoute l'URL "),e("strong",[t._v("/store/products")]),t._v(". Vous décidez un jour de changer vos URLs afin d'y faire apparaître le mot clé en rapport avec la catégorie des produits affichés et vous aimeriez bien que vos produits soient disponibles depuis "),e("strong",[t._v("/store/{category}/products")]),t._v(". Si vous aviez écrit toutes vos URLs à la main dans vos fichiers, vous auriez dû toutes les changer une par une. Grâce à la génération d'URLs, vous ne modifiez que la route : ainsi, toutes les URLs générées seront mises à jour !")]),t._v(" "),e("p",[t._v("Pour générer une URL, vous devez le demander au routeur en lui donnant deux arguments : le nom de la route ainsi que les éventuels paramètres de cette route. Depuis un contrôleur, nous pouvons utiliser un raccourcie grâce à la méthode "),e("strong",[t._v("generateUrl")]),t._v(" :")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateUrl")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'store_products'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'category'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'sport'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("L'URL ainsi généré sera "),e("strong",[t._v("/store/sport/products")])]),t._v(" "),e("h3",{attrs:{id:"manipuler-l-objet-request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manipuler-l-objet-request"}},[t._v("#")]),t._v(" Manipuler l'objet Request")]),t._v(" "),e("p",[t._v("Nous avons vu un peu plus haut comment récupérer simplement un paramètre dans notre contrôleur lorsque ce dernier passe par une route. Heureusement, nous avons la possibilité de récupérer les paramètres ne passant pas par ce chemin mais tous types de paramètres d'une requête HTTP classique.")]),t._v(" "),e("p",[t._v("Pour ça, il faut injecter la Request dans l'action de notre contrôleur de cette manière :")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Symfony"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("HttpFoundation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attribute"}},[e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),e("span",{pre:!0,attrs:{class:"token attribute-content"}},[e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/store/products/{id}'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'store_show_product'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("requirements")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'\\d+'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("showProduct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name type-declaration"}},[t._v("Request")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Response")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("En admettant que l'on décide d'appeler notre page produit en y ajoutant un paramètre GET "),e("em",[t._v("slug")]),t._v(" correspondant au titre de notre article pour l'URL "),e("strong",[t._v("/store/products/3/details?slug=titre-de-mon-produit")]),t._v(". Nous pourrions procéder de la manière suivante afin de récupérer ce paramètre :")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("div",{staticClass:"highlighted"},[t._v(" ")]),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("showProduct")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name type-declaration"}},[t._v("Request")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("int")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Response")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$slug")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'slug'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("Nous avons utilisé dans ce cas précis "),e("strong",[t._v("$request->query")]),t._v(", cela permet de récupérer un paramètre de type "),e("strong",[t._v("GET")]),t._v(", néanmoins il y a bien d'autres possibilités :")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Variables de Request")]),t._v(" "),e("th",[t._v("Variables Globales")]),t._v(" "),e("th",[t._v("Exemple")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("$request->query")]),t._v(" "),e("td",[t._v("$_GET")]),t._v(" "),e("td",[t._v("$request->query->get('tag')")])]),t._v(" "),e("tr",[e("td",[t._v("$request->request")]),t._v(" "),e("td",[t._v("$_POST")]),t._v(" "),e("td",[t._v("$request->request->get('tag')")])]),t._v(" "),e("tr",[e("td",[t._v("$request->cookies")]),t._v(" "),e("td",[t._v("$_COOKIE")]),t._v(" "),e("td",[t._v("$request->cookies->get('tag')")])]),t._v(" "),e("tr",[e("td",[t._v("$request->server")]),t._v(" "),e("td",[t._v("$_SERVER")]),t._v(" "),e("td",[t._v("$request->server->get('REQUEST_URI')")])]),t._v(" "),e("tr",[e("td",[t._v("$request->headers")]),t._v(" "),e("td",[t._v("$_SERVER['HTTP_*']")]),t._v(" "),e("td",[t._v("$request->headers->get('USER_AGENT')")])]),t._v(" "),e("tr",[e("td",[t._v("$request->getSession()")]),t._v(" "),e("td",[t._v("$_SESSION")]),t._v(" "),e("td",[t._v("$request->getSession()->get('tag')")])])])]),t._v(" "),e("h2",{attrs:{id:"a-vous-de-jouer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-vous-de-jouer"}},[t._v("#")]),t._v(" A vous de jouer")]),t._v(" "),e("ol",[e("li",[t._v("Créer un "),e("strong",[t._v("MainController")])]),t._v(" "),e("li",[t._v("Nommer la route vous permettant d'accéder à la page d'accueil de votre projet ( avec l'URL "),e("em",[t._v("/")]),t._v(") de la manière suivante : "),e("strong",[t._v("main_homepage")])]),t._v(" "),e("li",[t._v("Créer une route, une action et un template vous permettant d'accéder à la présentation de la boutique Shoefony via l'URL suivant "),e("strong",[t._v("/presentation")]),t._v(" et nommer la route "),e("strong",[t._v("main_presentation")]),t._v(".")]),t._v(" "),e("li",[t._v("Créer un "),e("strong",[t._v("StoreController")])]),t._v(" "),e("li",[t._v("Créer une route, une action et un template vous permettant d'accéder à la fiche détaillée d'un produit en prenant en paramètre son identifiant, ainsi que son slug, via l'URL suivante "),e("strong",[t._v("/store/products/{id}/details/{slug}")]),t._v(" et nommer la route "),e("strong",[t._v("store_show_product")]),t._v(".")]),t._v(" "),e("li",[t._v("Créer une route, une action et un template vous permettant d'accéder la page de contact via l'URL suivante "),e("strong",[t._v("/contact")]),t._v(" et nommer la route "),e("strong",[t._v("main_contact")])]),t._v(" "),e("li",[t._v("Associer un template à la page en charge de l'affichage d'une fiche produit et trouver un moyen d'y afficher l'identifiant et le slug passés en paramètres au contrôleur.")]),t._v(" "),e("li",[t._v("Afficher également sur la page détaillée d'un produit l'adresse IP du client ainsi que l'URL de la page en utilisant la méthode associée au composant router.")])])])}),[],!1,null,null,null);s.default=n.exports}}]);