<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>La mise en ligne | Introduction à Symfony</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Licence Professionnelle SIL - Web et Mobile pour le Commerce Électronique">
    <meta name="robots" content="noindex, nofollow">
    
    <link rel="preload" href="/assets/css/0.styles.e2f7dcf9.css" as="style"><link rel="preload" href="/assets/js/app.f5ffb287.js" as="script"><link rel="preload" href="/assets/js/2.85d345eb.js" as="script"><link rel="preload" href="/assets/js/16.872dd91c.js" as="script"><link rel="prefetch" href="/assets/js/10.457dba52.js"><link rel="prefetch" href="/assets/js/11.08c438c2.js"><link rel="prefetch" href="/assets/js/12.cbc1776f.js"><link rel="prefetch" href="/assets/js/13.418be2c7.js"><link rel="prefetch" href="/assets/js/14.d52a0530.js"><link rel="prefetch" href="/assets/js/15.21450e21.js"><link rel="prefetch" href="/assets/js/17.b3e69a97.js"><link rel="prefetch" href="/assets/js/18.62e92111.js"><link rel="prefetch" href="/assets/js/19.e575b9c0.js"><link rel="prefetch" href="/assets/js/20.2dd543f1.js"><link rel="prefetch" href="/assets/js/21.207e0e56.js"><link rel="prefetch" href="/assets/js/22.d2fc0852.js"><link rel="prefetch" href="/assets/js/23.d71aaa5c.js"><link rel="prefetch" href="/assets/js/24.4a856b70.js"><link rel="prefetch" href="/assets/js/25.886f50e9.js"><link rel="prefetch" href="/assets/js/26.7345d31d.js"><link rel="prefetch" href="/assets/js/27.98540e6e.js"><link rel="prefetch" href="/assets/js/28.6a30ed2d.js"><link rel="prefetch" href="/assets/js/29.932c0b60.js"><link rel="prefetch" href="/assets/js/3.0cf10e4b.js"><link rel="prefetch" href="/assets/js/30.aa92a368.js"><link rel="prefetch" href="/assets/js/31.e026dfd1.js"><link rel="prefetch" href="/assets/js/32.0aec1f2e.js"><link rel="prefetch" href="/assets/js/33.9dd3d5d8.js"><link rel="prefetch" href="/assets/js/4.0a2f3beb.js"><link rel="prefetch" href="/assets/js/5.a33a2f42.js"><link rel="prefetch" href="/assets/js/6.f0091315.js"><link rel="prefetch" href="/assets/js/7.53d7b1d5.js"><link rel="prefetch" href="/assets/js/8.bae4ccb5.js"><link rel="prefetch" href="/assets/js/9.280a7124.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e2f7dcf9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Introduction à Symfony</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cours/" class="nav-link router-link-active">
  Cours
</a></div><div class="nav-item"><a href="/projets/" class="nav-link">
  Projets
</a></div><div class="nav-item"><a href="/ressources/" class="nav-link">
  Ressources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cours/" class="nav-link router-link-active">
  Cours
</a></div><div class="nav-item"><a href="/projets/" class="nav-link">
  Projets
</a></div><div class="nav-item"><a href="/ressources/" class="nav-link">
  Ressources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/cours/" aria-current="page" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/#qu-est-ce-qu-un-framework" class="sidebar-link">Qu'est ce qu'un framework ?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/#definition" class="sidebar-link">Définition</a></li><li class="sidebar-sub-header"><a href="/cours/#objectifs-d-un-framework" class="sidebar-link">Objectifs d'un framework</a></li><li class="sidebar-sub-header"><a href="/cours/#avantages-et-inconvenients-d-un-framework" class="sidebar-link">Avantages et inconvénients d'un framework</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/#decouvrir-symfony" class="sidebar-link">Découvrir Symfony</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/#presentation-generale" class="sidebar-link">Présentation générale</a></li><li class="sidebar-sub-header"><a href="/cours/#pourquoi-symfony-et-pas-un-autre" class="sidebar-link">Pourquoi Symfony et pas un autre ?</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/installation.html" class="sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/installation.html#prerequis" class="sidebar-link">Prérequis</a></li><li class="sidebar-sub-header"><a href="/cours/installation.html#telecharger-et-installer-symfony" class="sidebar-link">Télécharger et installer Symfony</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/installation.html#parenthese-sur-composer" class="sidebar-link">Parenthèse sur Composer</a></li><li class="sidebar-sub-header"><a href="/cours/installation.html#premier-projet-symfony" class="sidebar-link">Premier projet Symfony</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/installation.html#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/structure.html" class="sidebar-link">Structure du projet</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/structure.html#la-console-de-symfony" class="sidebar-link">La console de Symfony</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#la-partie-publique" class="sidebar-link">La partie publique</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#le-code-source-php" class="sidebar-link">Le code source PHP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/structure.html#un-point-sur-le-kernel" class="sidebar-link">Un point sur le Kernel</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/structure.html#les-templates" class="sidebar-link">Les templates</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#les-fichiers-temporaires" class="sidebar-link">Les fichiers temporaires</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/structure.html#le-dossier-var-cache" class="sidebar-link">Le dossier /var/cache/</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#le-dossier-var-log" class="sidebar-link">Le dossier /var/log/</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/structure.html#les-dependances" class="sidebar-link">Les dépendances</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#les-variables-d-environnement" class="sidebar-link">Les variables d'environnement</a></li><li class="sidebar-sub-header"><a href="/cours/structure.html#la-configuration-de-composer" class="sidebar-link">La configuration de Composer</a></li></ul></li><li><a href="/cours/bundle-et-flex.html" class="sidebar-link">Bundles, Flex et auto-configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/bundle-et-flex.html#qu-est-ce-qu-un-bundle" class="sidebar-link">Qu'est ce qu'un bundle ?</a></li><li class="sidebar-sub-header"><a href="/cours/bundle-et-flex.html#symfony-et-flex" class="sidebar-link">Symfony et Flex</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/bundle-et-flex.html#nettoyage-du-projet" class="sidebar-link">Nettoyage du projet</a></li></ul></li></ul></li><li><a href="/cours/controleur-et-routing.html" class="sidebar-link">Contrôleur et Routing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#requete-et-reponse" class="sidebar-link">Requête et réponse</a></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#routing" class="sidebar-link">Routing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#fonctionnement" class="sidebar-link">Fonctionnement</a></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#configuration-d-une-route" class="sidebar-link">Configuration d'une route</a></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#les-parametres-d-une-route" class="sidebar-link">Les paramètres d'une route</a></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#debug-des-routes" class="sidebar-link">Debug des routes</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#controleur" class="sidebar-link">Contrôleur</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#generer-des-urls" class="sidebar-link">Générer des URLs</a></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#manipuler-l-objet-request" class="sidebar-link">Manipuler l'objet Request</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/controleur-et-routing.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li></ul></li><li><a href="/cours/twig.html" class="sidebar-link">Le moteur de template Twig</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/twig.html#les-templates-dans-symfony" class="sidebar-link">Les templates dans Symfony</a></li><li class="sidebar-sub-header"><a href="/cours/twig.html#la-syntaxe-de-twig" class="sidebar-link">La syntaxe de Twig</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/twig.html#comparaison-entre-php-et-twig" class="sidebar-link">Comparaison entre PHP et Twig</a></li><li class="sidebar-sub-header"><a href="/cours/twig.html#les-filtres" class="sidebar-link">Les filtres</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/twig.html#integration-dans-symfony" class="sidebar-link">Intégration dans Symfony</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/twig.html#generation-de-lien" class="sidebar-link">Génération de lien</a></li><li class="sidebar-sub-header"><a href="/cours/twig.html#gestion-des-assets" class="sidebar-link">Gestion des assets</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/twig.html#heritage-de-templates" class="sidebar-link">Héritage de templates</a></li><li class="sidebar-sub-header"><a href="/cours/twig.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li></ul></li><li><a href="/cours/formulaire.html" class="sidebar-link">Formulaires</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/formulaire.html#creation-d-un-objet-contact" class="sidebar-link">Création d'un objet Contact</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#creation-d-une-classe-de-formulaire" class="sidebar-link">Création d'une classe de formulaire</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#implementation-du-formulaire" class="sidebar-link">Implementation du formulaire</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#affichage-du-formulaire" class="sidebar-link">Affichage du formulaire</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#protection-csrf" class="sidebar-link">Protection CSRF</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#validation-du-formulaire" class="sidebar-link">Validation du formulaire</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#les-messages-flash" class="sidebar-link">Les messages flash</a></li><li class="sidebar-sub-header"><a href="/cours/formulaire.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li></ul></li><li><a href="/cours/injection-dependances.html" class="sidebar-link">L'injection de dépendances</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/injection-dependances.html#definition" class="sidebar-link">Définition</a></li><li class="sidebar-sub-header"><a href="/cours/injection-dependances.html#le-conteneur-d-injection-de-dependances" class="sidebar-link">Le conteneur d'injection de dépendances</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/injection-dependances.html#les-factories" class="sidebar-link">Les factories</a></li><li class="sidebar-sub-header"><a href="/cours/injection-dependances.html#la-configuration" class="sidebar-link">La configuration</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/injection-dependances.html#l-autowiring" class="sidebar-link">L'Autowiring</a></li><li class="sidebar-sub-header"><a href="/cours/injection-dependances.html#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/service.html" class="sidebar-link">Les services avec Symfony</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/service.html#les-services" class="sidebar-link">Les services</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/service.html#creer-un-service" class="sidebar-link">Créer un service</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#utiliser-un-service" class="sidebar-link">Utiliser un service</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#lister-les-services-graces-a-la-console" class="sidebar-link">Lister les services grâces à la console</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#configuration" class="sidebar-link">Configuration</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/service.html#les-parametres" class="sidebar-link">Les paramètres</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/service.html#utilite-et-definition" class="sidebar-link">Utilité et définition</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#utilisation-dans-la-configuration" class="sidebar-link">Utilisation dans la configuration</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#utilisation-dans-un-service" class="sidebar-link">Utilisation dans un service</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/service.html#exemple-utilisation-du-mailer" class="sidebar-link">Exemple : Utilisation du Mailer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/service.html#l-envoi-d-un-email" class="sidebar-link">L'envoi d'un email</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#analyser-ses-envois" class="sidebar-link">Analyser ses envois</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/service.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li><li class="sidebar-sub-header"><a href="/cours/service.html#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/entities.html" class="sidebar-link">Les entités Doctrine</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/entities.html#creer-une-entite" class="sidebar-link">Créer une entité</a></li><li class="sidebar-sub-header"><a href="/cours/entities.html#gerer-l-etat-de-la-base-de-donnees" class="sidebar-link">Gérer l'état de la base de données</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/entities.html#les-migrations" class="sidebar-link">Les migrations</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/entities.html#interagir-avec-doctrine" class="sidebar-link">Interagir avec Doctrine</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/entities.html#insertion" class="sidebar-link">Insertion</a></li><li class="sidebar-sub-header"><a href="/cours/entities.html#modification" class="sidebar-link">Modification</a></li><li class="sidebar-sub-header"><a href="/cours/entities.html#suppression" class="sidebar-link">Suppression</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/entities.html#des-donnees-de-developpement" class="sidebar-link">Des données de développement</a></li><li class="sidebar-sub-header"><a href="/cours/entities.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li><li class="sidebar-sub-header"><a href="/cours/entities.html#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/relations.html" class="sidebar-link">Relations entre entités</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/relations.html#quelques-notions-importantes" class="sidebar-link">Quelques notions importantes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/relations.html#notion-de-proprietaire-et-d-inverse" class="sidebar-link">Notion de propriétaire et d'inverse</a></li><li class="sidebar-sub-header"><a href="/cours/relations.html#notion-d-unidirectionnalite-et-de-bidirectionnalite" class="sidebar-link">Notion d'unidirectionnalité et de bidirectionnalité</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/relations.html#les-types-de-relations" class="sidebar-link">Les types de relations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/relations.html#relation-onetoone" class="sidebar-link">Relation OneToOne</a></li><li class="sidebar-sub-header"><a href="/cours/relations.html#relation-manytoone" class="sidebar-link">Relation ManyToOne</a></li><li class="sidebar-sub-header"><a href="/cours/relations.html#relation-manytomany" class="sidebar-link">Relation ManyToMany</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/relations.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li></ul></li><li><a href="/cours/repositories.html" class="sidebar-link">Les repositories</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/repositories.html#les-methodes-de-construction-de-query" class="sidebar-link">Les méthodes de construction de query</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/repositories.html#doctrine-query-language-dql" class="sidebar-link">Doctrine Query Language (DQL)</a></li><li class="sidebar-sub-header"><a href="/cours/repositories.html#querybuilder" class="sidebar-link">QueryBuilder</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/repositories.html#recuperer-ses-entites" class="sidebar-link">Récupérer ses entités</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/repositories.html#les-methodes-de-base" class="sidebar-link">Les méthodes de base</a></li><li class="sidebar-sub-header"><a href="/cours/repositories.html#les-methodes-magiques" class="sidebar-link">Les méthodes magiques</a></li><li class="sidebar-sub-header"><a href="/cours/repositories.html#vos-propres-methodes" class="sidebar-link">Vos propres méthodes</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/repositories.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/repositories.html#aides" class="sidebar-link">Aides</a></li></ul></li></ul></li><li><a href="/cours/event-dispatcher.html" class="sidebar-link">L'event dispatcher</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/event-dispatcher.html#le-principe" class="sidebar-link">Le principe</a></li><li class="sidebar-sub-header"><a href="/cours/event-dispatcher.html#envoyer-des-evenements" class="sidebar-link">Envoyer des événements</a></li><li class="sidebar-sub-header"><a href="/cours/event-dispatcher.html#ecouter-les-evenements" class="sidebar-link">Écouter les événements</a></li><li class="sidebar-sub-header"><a href="/cours/event-dispatcher.html#a-vous-de-jouer" class="sidebar-link">A vous de jouer</a></li><li class="sidebar-sub-header"><a href="/cours/event-dispatcher.html#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/mise-en-ligne.html" aria-current="page" class="active sidebar-link">La mise en ligne</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#personnaliser-les-pages-d-erreur" class="sidebar-link">Personnaliser les pages d'erreur</a></li><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#verifier-son-site-symfony" class="sidebar-link">Vérifier son site Symfony</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#tester-son-application" class="sidebar-link">Tester son application</a></li><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#verifier-la-qualite-du-code" class="sidebar-link">Vérifier la qualité du code</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#deployer-son-site-symfony-en-ligne" class="sidebar-link">Déployer son site Symfony en ligne</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#sans-acces-ssh" class="sidebar-link">Sans accès SSH</a></li><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#avec-acces-ssh" class="sidebar-link">Avec accès SSH</a></li><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#explications-en-details" class="sidebar-link">Explications en détails</a></li></ul></li><li class="sidebar-sub-header"><a href="/cours/mise-en-ligne.html#pour-aller-plus-loin" class="sidebar-link">Pour aller plus loin</a></li></ul></li><li><a href="/cours/plus-loin.html" class="sidebar-link">Pour aller plus loin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/plus-loin.html#sur-symfony" class="sidebar-link">Sur Symfony</a></li><li class="sidebar-sub-header"><a href="/cours/plus-loin.html#s-ameliorer" class="sidebar-link">S'améliorer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cours/plus-loin.html#pourquoi" class="sidebar-link">Pourquoi</a></li><li class="sidebar-sub-header"><a href="/cours/plus-loin.html#comment" class="sidebar-link">Comment</a></li><li class="sidebar-sub-header"><a href="/cours/plus-loin.html#comment-apprendre" class="sidebar-link">Comment apprendre ?</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="la-mise-en-ligne"><a href="#la-mise-en-ligne" class="header-anchor">#</a> La mise en ligne</h1> <h2 id="personnaliser-les-pages-d-erreur"><a href="#personnaliser-les-pages-d-erreur" class="header-anchor">#</a> Personnaliser les pages d'erreur</h2> <p>Avec Symfony, lorsqu'une exception est déclenchée, le noyau l'attrape. Cela lui permet ensuite d'effectuer l'action adéquate.</p> <p>Le comportement par défaut du noyau consiste à appeler un contrôleur particulier intégré à Symfony : <strong>Symfony\Component\HttpKernel\Controller\ErrorController</strong>. Ce contrôleur récupère les informations de l'exception, choisi le template adéquat (un template différent par type d'erreur : 404, 500, etc.), passe les informations au template et envoie la réponse générée.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Depuis Symfony 5, c'est le <strong>composant ErrorHandler</strong> qui est chargé de générer ces pages d'erreurs.</p></div> <p>Ces pages d'erreurs utilise Twig à travers son bundle pour être généré. Dans Symfony, il est possible de surcharger les templates fournit avec un bundle. Puisque <strong>TwigBundle</strong> est un bundle, on peut surcharger ses vues pour les adapter à nos besoins ! Il suffit donc de créer nos propres templates et de dire à Symfony d'utiliser nos templates et non ceux par défaut.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Les pages d'erreur de Symfony sont affichées lorsque le noyau attrape une exception. Il existe deux pages différentes : celle en mode <strong>dev</strong> et celle en mode <strong>prod</strong>.</p></div> <p>Il est possible de personnaliser les deux, mais celle qui nous intéresse le plus ici est la page d'erreur en mode production. En effet, c'est celle qui sera affichée à nos visiteurs.</p> <p>Voici à quoi ressemble la page d'erreur <strong>404</strong> standard :</p> <p><img src="/img/404.png" alt="Page 404 de base"></p> <p>Il est très simple de remplacer les vues d'un bundle quelconque par les nôtres. Il suffit de créer le répertoire <strong>/templates/bundles/NomDuBundle/</strong> et d'y placer nos vues à nous ! Et cela est valable quelque soit le bundle.</p> <p>Dans notre cas, ce sera <strong>/templates/bundles/TwigBundle/Exception</strong>. Et au sein de ce dossier, le bundle utilise la convention suivante pour chaque nom de template :</p> <ul><li>Il vérifie d'abord l'existence du template <strong>error[code_erreur].html.twig</strong>, par exemple <strong>error404.html.twig</strong> dans le cas d'une page introuvable (erreur 404).</li> <li>Si ce template n'existe pas, il utilise le template <strong>error.html.twig</strong>, une sorte de page d'erreur générique.</li></ul> <p>Je vous conseille de créer un <strong>error404.html.twig</strong> pour les pages non trouvées, en plus du <strong>error.html.twig</strong> générique. Cela vous permet d'afficher un petit texte sympa pour que l'utilisateur ne soit pas trop perdu.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Vous pouvez donc utiliser Twig pour générer vos pages d'erreur, ce qui signifie que vous pouvez par exemple étendre le layout (avec la barre de navigation, ...) dans celles-ci. Très pratique pour ne pas perdre nos visiteurs quand ils arrivent sur une page d'erreurs !</p></div> <h2 id="verifier-son-site-symfony"><a href="#verifier-son-site-symfony" class="header-anchor">#</a> Vérifier son site Symfony</h2> <h3 id="tester-son-application"><a href="#tester-son-application" class="header-anchor">#</a> Tester son application</h3> <p>Bien évidemment, la première chose à faire avant d'envoyer son application sur un serveur, c'est de bien vérifier que tout fonctionne chez soi ! Vous êtes habitués à travailler dans l'environnement de développement et c'est normal, mais pour bien préparer le passage en production, il va falloir tester l'application dans l'environnement de production. Et pour ce faire il faut passer son application en mode production, dans le fichier <strong>.env</strong> adéquat, puis vider le cache.</p> <h3 id="verifier-la-qualite-du-code"><a href="#verifier-la-qualite-du-code" class="header-anchor">#</a> Vérifier la qualité du code</h3> <p>L'importance d'écrire un code de qualité n'est plus à démontrer. Symfony étant un framework très puissant, le code que vous faites se doit d'être à la hauteur, et il n'est pas évident de le passer entièrement en revue pour s'en assurer. Heureusement, il existe un outil qui permet de vérifier automatiquement un grand nombre de points particuliers dans votre code. Il s'agit d'un outil en ligne, <a href="https://insight.symfony.com/" target="_blank" rel="noopener noreferrer">Symfony insight<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Je vous invite à aller voir, à l'adresse précédente, les points que cet outil vérifie. Ils sont tous intéressants à prendre en compte si vous voulez avoir une application Symfony de grande qualité.</p> <p>Vous pouvez utiliser gratuitement l'outil sur vos projets publics, c'est-à-dire que votre projet doit avoir un Git publiquement accessible</p> <h2 id="deployer-son-site-symfony-en-ligne"><a href="#deployer-son-site-symfony-en-ligne" class="header-anchor">#</a> Déployer son site Symfony en ligne</h2> <p>Votre application web est terminée et prête à être mise en production ! Avant de déployer votre projet sur un serveur, il y a plusieurs points auxquels il est nécessaire de porter une attention particulière lorsqu'il s'agit du framework Symfony.</p> <p>Le déploiement d'une application est toujours une étape délicate qui touche au domaine de la configuration du serveur. En général, on se retrouve dans deux cas :</p> <ol><li>Soit vous n'avez pas accès en SSH à votre serveur (la plupart des hébergements mutualisés, etc.)</li> <li>Soit vous avez accès en SSH à votre serveur (VPS, serveur dédiés, etc.)</li></ol> <p>Voici une liste des étapes à effectuer dans les deux cas, avec des précisions si nécessaire. Je ne vais pas rentrer dans les détails de la configuration serveur. Pour ça, je vous renvoie à la <a href="https://symfony.com/doc/current/setup/web_server_configuration.html" target="_blank" rel="noopener noreferrer">documentation de Symfony<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> sur le sujet.</p> <h3 id="sans-acces-ssh"><a href="#sans-acces-ssh" class="header-anchor">#</a> Sans accès SSH</h3> <p>En local :</p> <ol><li><a href="/cours/mise-en-ligne.html#dependances-de-developpement">Vérifier les dépendances de développement</a></li> <li><a href="/cours/mise-en-ligne.html#composer-pour-la-production">Mettre à jour les dépendances sans celles de développement et en optimisant l'autoload de <strong>Composer</strong></a></li></ol> <p>Sur le serveur :</p> <ol><li><a href="/cours/mise-en-ligne.html#envoi-de-fichier">Envoyer les fichiers (via SFTP) sur le serveur sans le dossier <strong>/var/</strong> et le fichier <strong>.env.local</strong></a></li> <li>Créer la base de données avec un script SQL (ex: export de la version local)</li> <li>Recréer le fichier .env.local à partir du .env en adaptant les valeurs (environnement de production, connexion base de données, ...)</li> <li><a href="/cours/mise-en-ligne.html#reecrire-les-url">Mettre en place un fichier .htaccess à la racine si nécessaire</a></li> <li><a href="/cours/mise-en-ligne.html#regler-les-droits-sur-le-dossier-var">Vérifier les droits d'écriture de /var/</a></li></ol> <h3 id="avec-acces-ssh"><a href="#avec-acces-ssh" class="header-anchor">#</a> Avec accès SSH</h3> <p>En local :</p> <ol><li><a href="/cours/mise-en-ligne.html#dependances-de-developpement">Vérifier les dépendances de développement</a></li></ol> <p>Sur le serveur :</p> <ol><li><a href="/cours/mise-en-ligne.html#envoie-de-fichier">Envoyer les fichiers sur le serveur (par exemple avec Git) sans les dossiers <strong>/var/</strong> et <strong>/vendor/</strong> et le fichier <strong>.env.local</strong></a></li> <li><a href="/cours/mise-en-ligne.html#composer-pour-la-production">Mettre à jour les dépendances sans celles de développement et en optimisant l'autoload de <strong>Composer</strong></a></li> <li>Configurer le serveur web (Apache, NGINX, ...) en pointant sur la partie public de votre projet (ex: /var/www/shoefony/public/)</li> <li>Ajouter les variables d'environnements dans la configuration serveur (environnement de production, connexion base de données, ...)</li> <li>Créer et/ou mettre à jour la base de données en ligne de commande</li> <li>Exécuter la commande <strong>cache:clear</strong> et si erreur : <a href="/cours/mise-en-ligne.html#regler-les-droits-sur-le-dossier-var">Vérifier les droits d'écriture de /var/</a></li></ol> <h3 id="explications-en-details"><a href="#explications-en-details" class="header-anchor">#</a> Explications en détails</h3> <h4 id="dependances-de-developpement"><a href="#dependances-de-developpement" class="header-anchor">#</a> Dépendances de développement</h4> <p>Lorsque nous développons notre application, nous avons des outils comme la <strong>DebugBar</strong>, le <strong>MakerBundle</strong>, etc. Ce sont ce qu'on appelle des dépendances de développement. Ces dépendances doivent se trouver dans la partie <strong>require-dev</strong> de notre fichier <strong>composer.json</strong>. Avant de mettre en production un projet, il est nécessaire de vérifier que les dépendances de développement et de production soit bien séparées.</p> <p>Lorsque nous avons accès à la configuration de notre serveur web de production, nous pouvons déplacer deux dépendances de plus dans le require-dev :</p> <ul><li><strong>symfony/apache-pack</strong> : Cette dépendance est utile uniquement avec Flex pour créer un fichier <strong>.htaccess</strong> dans le dossier <strong>/public/</strong>. Il est possible de gérer ça directement dans la configuration serveur (ce qui est aussi plus performant).</li> <li><strong>symfony/dotenv</strong> : C'est ce composant qui est chargé de lire nos fichier <strong>.env</strong>. En production, on peut mettre les variables d'environnement dans la configuration serveur (ce qui est également plus sûre).</li></ul> <h4 id="composer-pour-la-production"><a href="#composer-pour-la-production" class="header-anchor">#</a> Composer pour la production</h4> <p>En production, nous ne voulons pas des dépendances de développement de notre projet. Pour ne pas les installer, il suffit d'ajouter l'option <strong>--no-dev</strong> lorsque l'on exécute <strong>Composer</strong>.</p> <p>Nous pouvons également optimiser l'autoload fournit par Composer avec l'option <strong>--optimize-autoloader</strong> ou <strong>-o</strong> en raccourcie.</p> <p>Ce qui nous donne :</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Mise à jour des dépendances sans celles de dev et en optimisant l'autoload</span>
<span class="token function">composer</span> update --no-dev -o

<span class="token comment"># Ou si on ne veut pas mettre à jour les dépendances</span>
<span class="token function">composer</span> <span class="token function">install</span> --no-dev -o

<span class="token comment"># Pour seulement re-générer l'autoload en l'optimisant</span>
<span class="token function">composer</span> dump-autoload -o
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="envoi-de-fichier"><a href="#envoi-de-fichier" class="header-anchor">#</a> Envoi de fichier</h4> <p>Notre projet est plein de dossier et de fichiers, seulement, tout ne doit pas être envoyé sur le serveur ! Pour savoir quoi envoyer, vous pouvez consulter le fichier <strong>/.gitignore</strong> à la racine de votre projet.</p> <p>De manière générale, on n'envoie pas le dossier <strong>/var/</strong> qui contient le cache et les logs de l'application. Il sera généré automatiquement par notre application.</p> <p>Le dossier <strong>/vendor/</strong>, qui contient les dépendances, ne doit être envoyé que si nous n'avons pas accès à Composer sur le serveur (toujours pas de SSH...). Comme le dossier var, il est très lourd !</p> <p>Enfin, il ne faut pas envoyer le fichier <strong>/.env.local</strong> qui contient les variables d'environnements. En effet, elles dépendent de la machine sur laquelle l'application est exécutée. On envoie par contre le fichier <strong>/.env</strong> qui contient des données d'exemple pour nous aider à créer le premier cité.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Pour envoyer nos fichiers sans accès SSH, ce sera via <strong>FTP</strong>. Dans le cas contraire, on a plusieurs options (dont le FTP d'ailleurs). Personnellement, j'utilise <strong>Git</strong> pour cette tâche.</p></div> <h4 id="reecrire-les-url"><a href="#reecrire-les-url" class="header-anchor">#</a> Réécrire les URL</h4> <p>Suivant la configuration de votre serveur vous risquez d'obtenir une URL du type : <strong>http://www.MON-DOMAINE.fr/public/</strong></p> <p>Cette dernière n'est pas super, et permettrait à vos visiteurs d'accéder à des répertoires auxquels ils ne devraient jamais avoir à rencontrer. La sécurité avant tout !</p> <p>Si votre serveur utilise Apache (il y a de très grandes chances), vous pouvez configurer votre espace web à l'aide d'un fichier .htaccess, à la racine de votre projet, en demandant à cibler directement votre répertoire public. Les instructions à ajouter dans ce fichier sont les suivantes :</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ public/$1 [QSA,L]
&lt;/IfModule&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="regler-les-droits-sur-le-dossier-var"><a href="#regler-les-droits-sur-le-dossier-var" class="header-anchor">#</a> Régler les droits sur le dossier var/</h4> <p>Vous le savez, Symfony a besoin de pouvoir écrire dans deux répertoires : <strong>/var/cache</strong> pour y mettre le cache de l'application et ainsi améliorer les performances, et <strong>/var/log</strong> pour y mettre l'historique des informations et erreurs rencontrées lors de l'exécution des pages.</p> <p>Normalement, vous n'avez pas besoin de créer le dossier vous-même. Il se créera tout seul lors de l'exécution du code. Cependant, si vous avez une erreur, vous pouvez le créer manuellement, mettre les bons droits UNIX dessus (751 par exemple) et laisser Symfony le remplir.</p> <p>Normalement, votre client FTP devrait vous permettre de régler les droits sur les dossiers. Avec <strong>FileZilla</strong> par exemple, un clic droit sur le dossier <strong>/var/</strong> vous permet de définir les droits.</p> <p>En ligne de commande sur Linux, ça se fait de la manière suivante :</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">751</span> -R ./var
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="pour-aller-plus-loin"><a href="#pour-aller-plus-loin" class="header-anchor">#</a> Pour aller plus loin</h2> <ul><li><a href="https://symfony.com/doc/current/controller/error_pages.html" target="_blank" rel="noopener noreferrer">Documentation de Symfony sur la surcharge des templates d'erreurs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://symfony.com/doc/current/deployment.html" target="_blank" rel="noopener noreferrer">Documentation de Symfony sur le déploiement<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://symfony.com/doc/current/setup/web_server_configuration.html" target="_blank" rel="noopener noreferrer">Documentation de Symfony sur la config serveur<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cours/event-dispatcher.html" class="prev">
        L'event dispatcher
      </a></span> <span class="next"><a href="/cours/plus-loin.html">
        Pour aller plus loin
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f5ffb287.js" defer></script><script src="/assets/js/2.85d345eb.js" defer></script><script src="/assets/js/16.872dd91c.js" defer></script>
  </body>
</html>
